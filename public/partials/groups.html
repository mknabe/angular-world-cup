<div>
  <div class="timestamp">Updated at {{timestamp | date: 'short'}}</div>
  <h1>Groups <a href="#/bracket">Bracket</a></h1>
  <div ng-show="loading">Loading...</div>
  <div class="group" ng-repeat="group in results">
    <h2>Group {{group.group_name}}</h2>
    <table cellspacing="0" class="table-group">
      <colgroup>
        <col width="50%">
        <col width="10%">
        <col width="10%">
      </colgroup>
      <tbody>
        <tr ng-repeat="team in group.teams | orderBy: ['-points', '-goal_differential']" ng-class="getCountryStatus(group, team)">
          <td>
            {{getFlag(team.fifa_code)}} {{team.country}}
          </td>
          <td>
            {{team.points}}
          </td>
          <td>
            {{team.goal_differential}}
          </td>
        </tr>
      </tbody>
    </table>
    <h3>Matches</h3>
    <table cellspacing="0" class="table-match">
      <colgroup>
        <col width="30%">
        <col width="5%">
        <col width="5%">
        <col width="30%">
        <col width="25%">
        <col width="5%">
      </colgroup>
      <tbody>
        <tr ng-repeat="match in group.matches | orderBy: ['-status', 'datetime']" ng-class="getMatchStatus(match.datetime, match.status)">
          <td ng-class="{'match-winner' : match.winner == match.home_team.country}">
            {{getFlag(match.home_team.code)}} {{match.home_team.country}}
          </td>
          <td>
            {{match.home_team.goals}}
          </td>
          <td>
            {{match.away_team.goals}}
          </td> 
          <td ng-class="{'match-winner' : match.winner == match.away_team.country}">
            {{getFlag(match.away_team.code)}} {{match.away_team.country}}
          </td>
          <td>
            {{match.datetime | date: 'M/d ha' | lowercase}}
          </td>
          <td>
            <a ng-show="match.status == 'completed'" ng-href="{{'#/match/' + match.match_number + '/group/' + group.group_name}}">
            Go</a>
            <span ng-show="match.status == 'in progress'">{{match.time}}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div ng-hide="loading">
    <table>
      <tr><th>Key</th></tr>
      <tr class="match-completed"><td>Completed Match</td></tr>
      <tr class="match-now"><td>Match in Progress</td></tr>
      <tr class="match-today"><td>Today's Matches</td></tr>
      <tr class="team-win"><td>Country Advancing</td></tr>
      <tr class="team-lose"><td>Country Knocked Out</td></tr>
      <tr class="team-tie"><td>Tied Countries</td></tr>
    </table>
  </div>
</div>